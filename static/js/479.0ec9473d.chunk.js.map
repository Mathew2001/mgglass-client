{"version":3,"file":"static/js/479.0ec9473d.chunk.js","mappings":"yNAQA,MAsGA,EAtGoBA,KAClB,MAAM,KAAEC,IAASC,EAAAA,EAAAA,MACX,QAAEC,EAAO,QAAEC,EAAQC,MAAOC,IAAiBC,EAAAA,EAAAA,IAAYC,GAASA,EAAMC,iBACtE,WAAEC,EAAYN,QAASO,EAAkBN,MAAOO,IAAoBL,EAAAA,EAAAA,IAAYC,GAASA,EAAMK,mBAC/FC,GAAWC,EAAAA,EAAAA,OACVC,EAAmBC,IAAwBC,EAAAA,EAAAA,UAAS,GAgB3D,OAbAC,EAAAA,EAAAA,WAAU,KACLlB,GACHa,GAASM,EAAAA,EAAAA,IAAiBnB,KAEzB,CAACa,EAAUb,KAEdkB,EAAAA,EAAAA,WAAU,KACE,OAAPhB,QAAO,IAAPA,GAAAA,EAASkB,KACVP,GAASQ,EAAAA,EAAAA,IAAyB,OAAPnB,QAAO,IAAPA,OAAO,EAAPA,EAASoB,gBAErC,CAACT,EAAiB,OAAPX,QAAO,IAAPA,OAAO,EAAPA,EAASkB,MAGpBjB,GAAWO,GACLa,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,UACpCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKC,UAClBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,SAAQC,UACrBF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,6BAA4BC,SAAC,qBAKhDpB,GAAgBM,GACVY,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,UACpCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKC,UAClBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,SAAQC,UACrBF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,6BAA4BC,SAAC,mBAK/CvB,GAAYO,GAUdiB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKC,UAClBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,SAAQC,UACrBF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,6BAA4BC,SAAS,OAAPvB,QAAO,IAAPA,OAAO,EAAPA,EAASF,YAGzDuB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,SAAQC,UACrBF,EAAAA,EAAAA,KAACI,EAAAA,EAAS,CAACC,WAAU,wFAAAC,OAAyBpB,EAAWT,KAAI,OAAA6B,OAAM3B,EAAQF,MAAQ8B,SAAU,CAAE,wCAAWC,EAAAA,EAAOC,KAAM,6CAAWD,EAAAA,EAAOE,QAAS,CAACxB,EAAWT,MAAM,GAAF6B,OAAME,EAAAA,EAAOE,QAAO,KAAAJ,OAAIpB,EAAWT,MAAQ,CAACE,EAAQF,MAAM,GAAF6B,OAAME,EAAAA,EAAOE,QAAO,KAAAJ,OAAIpB,EAAWT,KAAI,KAAA6B,OAAI3B,EAAQF,YAE/QuB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kCAAiCC,UAC9CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACvBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oBAAmBC,SAAA,EAChCF,EAAAA,EAAAA,KAAA,OACEW,IAAY,OAAPhC,QAAO,IAAPA,OAAO,EAAPA,EAASiC,aAAapB,GAC3BqB,IAAY,OAAPlC,QAAO,IAAPA,OAAO,EAAPA,EAASF,KACdwB,UAAU,2BACVa,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAASC,UAAW,YAE9C,OAAPtC,QAAO,IAAPA,OAAO,EAAPA,EAASiC,aAAaM,QAAS,IAC9Bf,EAAAA,EAAAA,MAAAgB,EAAAA,SAAA,CAAAjB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UACEC,UAAU,sFACVmB,QAASA,IAAM3B,EAAsB4B,GACnCA,KAAqB,OAAP1C,QAAO,IAAPA,OAAO,EAAPA,EAASiC,aAAaM,QAAS,EAAI,EAAIG,EAAY,GAEnEP,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAASd,UAEzCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,2BAEfD,EAAAA,EAAAA,KAAA,UACEC,UAAU,wFACVmB,QAASA,IAAM3B,EAAsB4B,GACrB,IAAdA,GAAyB,OAAP1C,QAAO,IAAPA,OAAO,EAAPA,EAASiC,aAAaM,QAAS,EAAIG,EAAY,GAEnEP,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAASd,UAEzCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oCAQzBD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,6BAA4BC,UACzCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACvBF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,mBAAkBC,SAAS,OAAPvB,QAAO,IAAPA,OAAO,EAAPA,EAAS2C,sBAvDzCtB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,UACpCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKC,UAClBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,SAAQC,UACrBF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,6BAA4BC,SAAC,2B,uDCFrD,QAvCA,SAAkBqB,GAKd,IALe,WACjBlB,EAAU,SACVE,EAAW,CAAC,EAAC,UACbiB,EAAY,MAAK,UACjBC,EAAY,IACbF,EAEC,MAAMG,EAAQC,OAAOtB,GAAc,IAChCuB,MAAM,KACNC,IAAIC,GAAKA,EAAEC,QACXC,OAAOC,SAEV,OACEjC,EAAAA,EAAAA,KAAA,OAAKC,UAAS,mCAAAK,OAAqCmB,GAAYvB,UAC7DF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,kBAAiBC,SAC3BwB,EAAMG,IAAI,CAACK,EAAOC,KACjB,MAAMC,EAASD,IAAQT,EAAMR,OAAS,EAChCmB,EAAK9B,EAAS2B,GACpB,OACElC,EAAAA,EAAAA,KAAAmB,EAAAA,SAAA,CAAAjB,UACAC,EAAAA,EAAAA,MAAA,QAAAD,SAAA,CACGkC,IAAWC,GAEVrC,EAAAA,EAAAA,KAAA,QAAMC,UAAU,uBAAsBC,SAAEgC,KAExClC,EAAAA,EAAAA,KAACsC,EAAAA,GAAI,CAACD,GAAIA,EAAIpC,UAAU,kCAAiCC,SACtDgC,KAGHE,IAAUpC,EAAAA,EAAAA,KAAA,QAAAE,SAAOsB,MATVW,UAiBvB,C","sources":["components/pergolot/PergolaView.jsx","components/LinkPaths.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getPergolaByName } from '../../redux/actions/pergolas/pergolaActions'\r\nimport { getPergolaCatById } from '../../redux/actions/pergolas/pergolaCatActions'\r\nimport LinkPaths from '../LinkPaths'\r\nimport ROUTES from '../../const'\r\n\r\nconst PergolaView = () => {\r\n  const { name } = useParams()\r\n  const { pergola, loading,error: pergolaError } = useSelector(state => state.pergolaReducer)\r\n  const { pergolaCat, loading: pergolaCatLoading,error: pergolaCatError } = useSelector(state => state.pergolaCatReducer)\r\n  const dispatch = useDispatch()\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0)\r\n\r\n\r\n  useEffect(() => {\r\n    if(name){\r\n    dispatch(getPergolaByName(name))\r\n    }\r\n  }, [dispatch, name])\r\n\r\n  useEffect(() => {\r\n    if(pergola?._id){\r\n      dispatch(getPergolaCatById(pergola?.pergolaCatId))\r\n    }\r\n  }, [dispatch, pergola?._id])\r\n\r\n\r\n  if(loading || pergolaCatLoading){\r\n    return <div className=\"container py-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h1 className=\"display-4 text-center mb-5\">Loading...</h1>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n  if(pergolaError || pergolaCatError){\r\n    return <div className=\"container py-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h1 className=\"display-4 text-center mb-5\">Error...</h1>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n  if(!pergola || !pergolaCat){\r\n    return <div className=\"container py-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h1 className=\"display-4 text-center mb-5\">No data found...</h1>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n  return (\r\n    <div className=\"container py-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h1 className=\"display-4 text-center mb-5\">{pergola?.name}</h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-12\">\r\n        <LinkPaths pathString={`דף הבית / פרגולות / ${pergolaCat.name} / ${pergola.name}`} routeMap={{ \"דף הבית\": ROUTES.HOME, \"פרגולות\": ROUTES.PROGLOT, [pergolaCat.name]: `${ROUTES.PROGLOT}/${pergolaCat.name}`, [pergola.name]: `${ROUTES.PROGLOT}/${pergolaCat.name}/${pergola.name}`}} />\r\n      </div>\r\n      <div className=\"row justify-content-center mb-5\">\r\n        <div className=\"col-md-8\">\r\n          <div className=\"position-relative\">\r\n            <img\r\n              src={pergola?.imageGallery[currentImageIndex]}\r\n              alt={pergola?.name}\r\n              className=\"img-fluid rounded shadow\"\r\n              style={{ width: '100%', height: '500px', objectFit: 'cover' }}\r\n            />\r\n            {pergola?.imageGallery.length > 1 && (\r\n              <>\r\n                <button\r\n                  className=\"btn btn-light rounded-circle position-absolute top-50 end-0 translate-middle-y me-3\"\r\n                  onClick={() => setCurrentImageIndex((prevIndex) =>\r\n                    prevIndex === pergola?.imageGallery.length - 1 ? 0 : prevIndex + 1\r\n                  )}\r\n                  style={{ width: '45px', height: '45px' }}\r\n                >\r\n                  <i className=\"bi bi-chevron-right\"></i>\r\n                </button>\r\n                <button\r\n                  className=\"btn btn-light rounded-circle position-absolute top-50 start-0 translate-middle-y ms-3\"\r\n                  onClick={() => setCurrentImageIndex((prevIndex) =>\r\n                    prevIndex === 0 ? pergola?.imageGallery.length - 1 : prevIndex - 1\r\n                  )}\r\n                  style={{ width: '45px', height: '45px' }}\r\n                >\r\n                  <i className=\"bi bi-chevron-left\"></i>\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-md-8\">\r\n          <p className=\"lead text-center\">{pergola?.description}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PergolaView","// Breadcrumbs.jsx\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/**\r\n * Props:\r\n * - pathString: a string like \"דף הבית / פרגולות / הצללה\"\r\n * - routeMap: { [label]: path } e.g. { \"דף הבית\": ROUTES.HOME, \"פרגולות\": \"/pergolas\" }\r\n * - separator: what to display between items (default \" / \")\r\n * - wrapClass: extra classes for the outer div (Bootstrap-friendly)\r\n */\r\nfunction LinkPaths({\r\n  pathString,\r\n  routeMap = {},\r\n  separator = \" / \",\r\n  wrapClass = \"\"\r\n}) {\r\n  // Split by \"/\" (not spaces), trim, and remove empties\r\n  const parts = String(pathString || \"\")\r\n    .split(\"/\")\r\n    .map(s => s.trim())\r\n    .filter(Boolean);\r\n\r\n  return (\r\n    <div className={`col-12 text-center text-warning ${wrapClass}`}>\r\n      <p className=\"text-center m-0\">\r\n        {parts.map((label, idx) => {\r\n          const isLast = idx === parts.length - 1;\r\n          const to = routeMap[label]; // optional mapping label -> route\r\n          return (\r\n            <>\r\n            <span key={idx}>\r\n              {isLast || !to ? (\r\n                // last item (active) or no route -> plain bold text\r\n                <span className=\"text-warning fw-bold\">{label}</span>\r\n              ) : (\r\n                <Link to={to} className=\"text-muted text-decoration-none\">\r\n                  {label}\r\n                </Link>\r\n              )}\r\n              {!isLast && <span>{separator}</span>}\r\n            </span>\r\n            </>\r\n          );\r\n        })}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LinkPaths"],"names":["PergolaView","name","useParams","pergola","loading","error","pergolaError","useSelector","state","pergolaReducer","pergolaCat","pergolaCatLoading","pergolaCatError","pergolaCatReducer","dispatch","useDispatch","currentImageIndex","setCurrentImageIndex","useState","useEffect","getPergolaByName","_id","getPergolaCatById","pergolaCatId","_jsx","className","children","_jsxs","LinkPaths","pathString","concat","routeMap","ROUTES","HOME","PROGLOT","src","imageGallery","alt","style","width","height","objectFit","length","_Fragment","onClick","prevIndex","description","_ref","separator","wrapClass","parts","String","split","map","s","trim","filter","Boolean","label","idx","isLast","to","Link"],"sourceRoot":""}