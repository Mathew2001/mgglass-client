{"version":3,"file":"static/js/942.2d06f548.chunk.js","mappings":"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","sources":["components/pergolot/PergolaCard.jsx","components/LinkPaths.jsx","components/pergolot/PergolaByName.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport LinkPaths from '../LinkPaths'\r\nimport ROUTES from '../../const'\r\n\r\nconst PergolaCard = ({ name, description, imageGallery, id, link }) => {\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0)\r\n\r\n  const nextImage = (e) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setCurrentImageIndex((prevIndex) =>\r\n      prevIndex === imageGallery.length - 1 ? 0 : prevIndex + 1\r\n    )\r\n  }\r\n\r\n  const previousImage = (e) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setCurrentImageIndex((prevIndex) =>\r\n      prevIndex === 0 ? imageGallery.length - 1 : prevIndex - 1\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"col\">\r\n      <div className=\"card h-100\">\r\n        <Link key={id} to={link} style={{ textDecoration: 'none', color: 'inherit' }}>\r\n          <div className=\"card-body\">\r\n            <h1 className=\"card-title h4 mb-3\">{name}</h1>\r\n          </div>\r\n          <div id=\"carouselExample\" className=\"carousel slide\">\r\n            <div className=\"carousel-inner\">\r\n              {imageGallery.map((image, index) => (\r\n                <div key={index} className={`carousel-item ${index === currentImageIndex ? 'active' : ''}`}>\r\n                  <img src={image} className=\"d-block w-100\" alt={name} />\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {imageGallery.length > 1 && (\r\n              <>\r\n                <button className=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExample\" data-bs-slide=\"prev\" onClick={previousImage}>\r\n                  <i className=\"bi bi-arrow-left-circle-fill fs-3 text-dark\"></i>\r\n                  <span className=\"visually-hidden\">Previous</span>\r\n                </button>\r\n                <button className=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExample\" data-bs-slide=\"next\" onClick={nextImage}>\r\n                  <i className=\"bi bi-arrow-right-circle-fill fs-3 text-dark\"></i>\r\n                  <span className=\"visually-hidden\">Next</span>\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <p className=\"card-text text-muted mb-0\" style={{ fontSize: '1.1rem' }}>{description}</p>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PergolaCard","// Breadcrumbs.jsx\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/**\r\n * Props:\r\n * - pathString: a string like \"דף הבית / פרגולות / הצללה\"\r\n * - routeMap: { [label]: path } e.g. { \"דף הבית\": ROUTES.HOME, \"פרגולות\": \"/pergolas\" }\r\n * - separator: what to display between items (default \" / \")\r\n * - wrapClass: extra classes for the outer div (Bootstrap-friendly)\r\n */\r\nfunction LinkPaths({\r\n  pathString,\r\n  routeMap = {},\r\n  separator = \" / \",\r\n  wrapClass = \"\"\r\n}) {\r\n  // Split by \"/\" (not spaces), trim, and remove empties\r\n  const parts = String(pathString || \"\")\r\n    .split(\"/\")\r\n    .map(s => s.trim())\r\n    .filter(Boolean);\r\n\r\n  return (\r\n    <div className={`col-12 text-center text-warning ${wrapClass}`}>\r\n      <p className=\"text-center m-0\">\r\n        {parts.map((label, idx) => {\r\n          const isLast = idx === parts.length - 1;\r\n          const to = routeMap[label]; // optional mapping label -> route\r\n          return (\r\n            <>\r\n            <span key={idx}>\r\n              {isLast || !to ? (\r\n                // last item (active) or no route -> plain bold text\r\n                <span className=\"text-warning fw-bold\">{label}</span>\r\n              ) : (\r\n                <Link to={to} className=\"text-muted text-decoration-none\">\r\n                  {label}\r\n                </Link>\r\n              )}\r\n              {!isLast && <span>{separator}</span>}\r\n            </span>\r\n            </>\r\n          );\r\n        })}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LinkPaths","import React, { useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getPergolaCatByName } from '../../redux/actions/pergolas/pergolaCatActions'\r\nimport { getPergolaByCatId } from '../../redux/actions/pergolas/pergolaActions'\r\nimport PergolaCard from './PergolaCard'\r\nimport ROUTES from '../../const'\r\nimport LinkPaths from '../LinkPaths'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst PergolaByName = () => {\r\n  const { name } = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  // Give defaults to avoid undefined/null during the first render\r\n  const { pergolaCat = null, loading = false, error: catError } =\r\n    useSelector(s => s.pergolaCatReducer) || {};\r\n  const { pergolasByCatId = [], loading: listLoading = false, error: listError } =\r\n    useSelector(s => s.pergolaReducer) || {};\r\n\r\n  // 1) Fetch category whenever the route param changes\r\n  useEffect(() => {\r\n    if (!name) return;\r\n    // URL parts may be encoded, normalize if needed:\r\n    const decoded = decodeURIComponent(name);\r\n    dispatch(getPergolaCatByName(decoded));\r\n  }, [dispatch, name]);\r\n\r\n  // 2) When category id is ready, fetch items in that category\r\n  useEffect(() => {\r\n    if (pergolaCat && pergolaCat._id) {\r\n      dispatch(getPergolaByCatId(pergolaCat._id));\r\n    }\r\n  }, [dispatch, pergolaCat?._id]); // depend on the id specifically\r\n\r\n  // 3) Loading / error guards\r\n  if (loading || listLoading) {\r\n    return (\r\n      <div className=\"container py-5\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h1 className=\"display-6 text-center\">Loading…</h1>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (catError || listError) {\r\n    return (\r\n      <div className=\"container py-5\">\r\n        <p className=\"text-danger text-center\">\r\n          {catError?.message || listError?.message || 'Something went wrong.'}\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // 4) Still not found? (e.g., wrong URL)\r\n  if (!pergolaCat) {\r\n    return (\r\n      <div className=\"container py-5\">\r\n        <p className=\"text-center\">Category not found.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container py-4 mt-4\" dir=\"rtl\">\r\n        <div className=\"mt-4 mb-4\">\r\n          <h1 className=\"text-center\">{pergolaCat.name}</h1>\r\n          <LinkPaths pathString={`דף הבית / פרגולות / ${pergolaCat.name}`} routeMap={{ \"דף הבית\": ROUTES.HOME, \"פרגולות\": ROUTES.PROGLOT, [pergolaCat.name]: ROUTES.PROGLOT_BY_CAT }} />\r\n        </div>\r\n        <div className='row row-cols-2 row-cols-lg-4 g-4'>\r\n          {pergolasByCatId.map(p => (\r\n            <PergolaCard\r\n              key={p._id}\r\n              name={p.name}\r\n              description={p.description}\r\n              imageGallery={p.imageGallery}\r\n              id={p._id}\r\n              link={`${ROUTES.PROGLOT}/${encodeURIComponent(pergolaCat.name)}/${encodeURIComponent(p.name)}`}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PergolaByName;\r\n"],"names":["_ref","name","description","imageGallery","id","link","currentImageIndex","setCurrentImageIndex","useState","_jsx","className","children","_jsxs","Link","to","style","textDecoration","color","map","image","index","concat","src","alt","length","_Fragment","type","onClick","e","preventDefault","stopPropagation","prevIndex","fontSize","pathString","routeMap","separator","wrapClass","parts","String","split","s","trim","filter","Boolean","label","idx","isLast","PergolaByName","useParams","dispatch","useDispatch","pergolaCat","loading","error","catError","useSelector","pergolaCatReducer","pergolasByCatId","listLoading","listError","pergolaReducer","useEffect","decoded","decodeURIComponent","getPergolaCatByName","_id","getPergolaByCatId","message","dir","LinkPaths","ROUTES","HOME","PROGLOT","PROGLOT_BY_CAT","p","PergolaCard","encodeURIComponent"],"sourceRoot":""}